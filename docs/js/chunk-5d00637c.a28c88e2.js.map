{"version":3,"sources":["webpack:///./src/use/useStyle.ts","webpack:///./story/pages/demo/demo-use-style/demo-use-style-parent.tsx","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/use/useSlots.ts"],"names":["StyleShape","StyleSize","StyleType","StyleProps","shape","type","String","size","USE_STYLE_PROVIDE","useStyle","defaultStylePropsOption","ctx","defaultOptions","fillet","normal","primary","injectProps","styleComputed","props","value","DemoUseStyleParent","setup","slots","classes","render","default","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","useSlots","slotList","slotNames","reduce","slot","isExist","slotFn","defaultVnode"],"mappings":"sOAIYA,EAMAC,EAOAC,E,qCAbZ,SAAYF,GACR,qBACA,mBACA,sBAHJ,CAAYA,MAAU,KAMtB,SAAYC,GACR,mBACA,qBACA,mBACA,iBAJJ,CAAYA,MAAS,KAOrB,SAAYC,GACR,uBACA,uBACA,mBACA,iBACA,iBALJ,CAAYA,MAAS,KAQd,IAAMC,EAAa,CACtBC,MAAO,CAACC,KAAMC,QACdC,KAAM,CAACF,KAAMC,QACbD,KAAM,CAACA,KAAMC,SAcXE,EAAoB,sBACpB,SAAUC,EAASC,GACrB,IAAMC,EAAM,iBACNC,EAAiB,gBACnBR,MAAOJ,EAAWa,OAClBN,KAAMN,EAAUa,OAChBT,KAAMH,EAAUa,SACbL,GAEDM,EAAc,eAAOR,EAAmB,MACxCS,EAAgB,gBAAS,WAAK,MACFN,EAAIO,MAA1Bd,EADwB,EACxBA,MAAOG,EADiB,EACjBA,KAAMF,EADW,EACXA,KACrB,MAAO,CACHD,MAAOA,GAAUY,GAAeA,EAAYG,MAAMf,OAAUQ,EAAeR,MAC3EG,KAAMA,GAASS,GAAeA,EAAYG,MAAMZ,MAASK,EAAeL,KACxEF,KAAMA,GAASW,GAAeA,EAAYG,MAAMd,MAASO,EAAeP,SAIhF,OADA,eAAQG,EAAmBS,GACpBA,I,8JCxDEG,EAAqB,eAAgB,CAC9CF,MAAO,kBACA,QAEPG,MAJ8C,WAM1C,IAAMC,EAAQ,iBACRL,EAAgB,eAAS,CAACZ,KAAM,OAAUU,UAC1CQ,EAAU,gBAAS,iBAAM,CAC3B,sBAD2B,qCAEGN,EAAcE,MAAMd,UAGtD,MAAO,CACHmB,OAAQ,kBACJ,4BAAYD,EAAQJ,OAApB,CACI,sDACA,2BACKG,EAAMG,oB,wGCtBhB,SAASC,EAAmBC,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,eAAiBH,G,sECFnC,SAASI,EAAiBC,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOJ,MAAMQ,KAAKJ,G,gBCD3E,SAASK,IACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,EAAmBZ,GACzC,OAAOa,EAAkBb,IAAQc,EAAgBd,IAAQe,eAA2Bf,IAAQgB,I,gBCCxF,SAAUC,IAA6C,IAAlBC,EAAkB,uDAAF,GACjDlC,EAAM,iBACNmC,EAAY,GAAH,SAAOD,GAAP,CAAiB,YAC1BvB,EAAQwB,EAAUC,QAAO,SAACzB,EAAO0B,GACnC,IAAMC,EAAU,WACZ,QAAStC,EAAIW,MAAM0B,IAEjBE,EAAS,SAACC,GAA4B,QACxC,OAAO,aAAAxC,EAAIW,OAAM0B,UAAV,yBAAuBG,GAIlC,OAFAD,EAAOD,QAAUA,EACjB3B,EAAM0B,GAAQE,EACP5B,IACR,IAEH,OAAOA","file":"js/chunk-5d00637c.a28c88e2.js","sourcesContent":["import { inject, provide, computed } from \"@vue/runtime-core\";\nimport { getCurrentInstance } from \"vue\";\n\n\nexport enum StyleShape {\n    fillet = 'fillet',\n    round = 'round',\n    square = 'square',\n}\n\nexport enum StyleSize {\n    large = 'large',\n    normal = 'normal',\n    small = 'small',\n    mini = 'mini',\n}\n\nexport enum StyleType {\n    primary = 'primary',\n    success = 'success',\n    error = 'error',\n    warn = 'warn',\n    info = 'info',\n}\n\nexport const StyleProps = {\n    shape: {type: String},                      // fillet,round,square\n    size: {type: String},                       // normal,large,mini\n    type: {type: String},                     // primary,success,error,warn,info\n};\n\ninterface DefaultStylePropsOption {\n    shape?: StyleShape,\n    size?: StyleSize,\n    type?: StyleType\n}\ninterface StyleComputed {\n    shape?: StyleShape,\n    size?: StyleSize,\n    type?: StyleType\n}\n\nconst USE_STYLE_PROVIDE = '@@USE_STYLE_PROVIDE';\nexport function useStyle(defaultStylePropsOption: DefaultStylePropsOption): {value: StyleComputed} {\n    const ctx = getCurrentInstance()! as any;\n    const defaultOptions = {\n        shape: StyleShape.fillet,\n        size: StyleSize.normal,\n        type: StyleType.primary,\n        ...defaultStylePropsOption\n    };\n    const injectProps = inject(USE_STYLE_PROVIDE, null) as null | {value: StyleComputed};\n    const styleComputed = computed(() => {\n        const { shape, size, type } = ctx.props;\n        return {\n            shape: shape || (injectProps && injectProps.value.shape) || defaultOptions.shape,\n            size: size || (injectProps && injectProps.value.size) || defaultOptions.size,\n            type: type || (injectProps && injectProps.value.type) || defaultOptions.type,\n        };\n    });\n    provide(USE_STYLE_PROVIDE, styleComputed);\n    return styleComputed;\n}\n","import {designComponent} from \"../../../../src/use/designComponent\";\nimport {StyleProps, StyleType, useStyle} from \"../../../../src/use/useStyle\";\nimport {computed} from 'vue';\nimport {useSlots} from \"../../../../src/use/useSlots\";\n\nexport const DemoUseStyleParent = designComponent({\n    props: {\n        ...StyleProps,\n    },\n    setup() {\n\n        const slots = useSlots();\n        const styleComputed = useStyle({type: StyleType.primary});\n        const classes = computed(() => [\n            'ti-use-style-parent',\n            `ti-use-style-parent-status-${styleComputed.value.type}`\n        ]);\n\n        return {\n            render: () => (\n                <div class={classes.value}>\n                    <div>PARENT</div>\n                    <div>\n                        {slots.default()}\n                    </div>\n                </div>\n            )\n        };\n    },\n});\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { VNodeChild } from \"@/shims\";\nimport { getCurrentInstance } from \"vue\";\n\ntype SlotFunction = ((vnode?: VNodeChild) => VNodeChild) & { isExist: () => boolean }\ntype SlotsData<T extends string> = { [k in T]: SlotFunction}\n\nexport function useSlots<T extends string>(slotList: T[] = []): SlotsData<T|'default'> {\n    const ctx = getCurrentInstance()!;\n    const slotNames = [...slotList, 'default'] as T[];\n    const slots = slotNames.reduce((slots, slot) => {\n        const isExist = () => {\n            return !!ctx.slots[slot];\n        };\n        const slotFn = (defaultVnode: VNodeChild) => {\n            return ctx.slots[slot]?.() || defaultVnode;\n        };\n        slotFn.isExist = isExist;\n        slots[slot] = slotFn;\n        return slots;\n    }, {} as SlotsData<string>);\n\n    return slots;\n}"],"sourceRoot":""}