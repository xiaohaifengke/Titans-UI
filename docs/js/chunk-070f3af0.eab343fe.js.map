{"version":3,"sources":["webpack:///./src/use/useStyle.ts","webpack:///./story/pages/demo/demo-use-style.vue","webpack:///./story/pages/demo/demo-use-style.vue?fc8e","webpack:///./story/pages/demo/demo-use-style/demo-use-style-parent.tsx","webpack:///./story/pages/demo/demo-use-style.vue?d12c","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/use/useSlots.ts","webpack:///./story/pages/demo/demo-use-style/demo-use-style-child.tsx"],"names":["StyleShape","StyleSize","StyleType","StyleProps","shape","type","String","size","USE_STYLE_PROVIDE","useStyle","defaultStylePropsOption","ctx","defaultOptions","fillet","normal","primary","injectProps","styleComputed","props","value","class","status","name","components","DemoUseStyleParent","DemoUseStyleChild","render","setup","slots","classes","default","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","useSlots","slotList","slotNames","reduce","slot","isExist","slotFn","defaultVnode"],"mappings":"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","file":"js/chunk-070f3af0.eab343fe.js","sourcesContent":["import { inject, provide, computed } from \"@vue/runtime-core\";\nimport { getCurrentInstance } from \"vue\";\n\n\nexport enum StyleShape {\n    fillet = 'fillet',\n    round = 'round',\n    square = 'square',\n}\n\nexport enum StyleSize {\n    large = 'large',\n    normal = 'normal',\n    small = 'small',\n    mini = 'mini',\n}\n\nexport enum StyleType {\n    primary = 'primary',\n    success = 'success',\n    error = 'error',\n    warn = 'warn',\n    info = 'info',\n}\n\nexport const StyleProps = {\n    shape: {type: String},                      // fillet,round,square\n    size: {type: String},                       // normal,large,mini\n    type: {type: String},                     // primary,success,error,warn,info\n};\n\ninterface DefaultStylePropsOption {\n    shape?: StyleShape,\n    size?: StyleSize,\n    type?: StyleType\n}\ninterface StyleComputed {\n    shape?: StyleShape,\n    size?: StyleSize,\n    type?: StyleType\n}\n\nconst USE_STYLE_PROVIDE = '@@USE_STYLE_PROVIDE';\nexport function useStyle(defaultStylePropsOption: DefaultStylePropsOption): {value: StyleComputed} {\n    const ctx = getCurrentInstance()! as any;\n    const defaultOptions = {\n        shape: StyleShape.fillet,\n        size: StyleSize.normal,\n        type: StyleType.primary,\n        ...defaultStylePropsOption\n    };\n    const injectProps = inject(USE_STYLE_PROVIDE, null) as null | {value: StyleComputed};\n    const styleComputed = computed(() => {\n        const { shape, size, type } = ctx.props;\n        return {\n            shape: shape || (injectProps && injectProps.value.shape) || defaultOptions.shape,\n            size: size || (injectProps && injectProps.value.size) || defaultOptions.size,\n            type: type || (injectProps && injectProps.value.type) || defaultOptions.type,\n        };\n    });\n    provide(USE_STYLE_PROVIDE, styleComputed);\n    return styleComputed;\n}\n","<template>\n    <div class=\"demo-use-style\">\n\n        <demo-use-style-parent>\n            <demo-use-style-child/>\n            <demo-use-style-child/>\n            <demo-use-style-child/>\n        </demo-use-style-parent>\n\n        <demo-use-style-parent status=\"error\">\n            <demo-use-style-child/>\n            <demo-use-style-child/>\n            <demo-use-style-child/>\n        </demo-use-style-parent>\n\n        <demo-use-style-parent>\n            <demo-use-style-child status=\"error\"/>\n            <demo-use-style-child/>\n            <demo-use-style-child/>\n        </demo-use-style-parent>\n\n        <demo-use-style-parent status=\"warn\">\n            <demo-use-style-child status=\"success\"/>\n            <demo-use-style-child/>\n            <demo-use-style-child/>\n        </demo-use-style-parent>\n    </div>\n</template>\n\n<script>\n\n    import {DemoUseStyleParent} from \"./demo-use-style/demo-use-style-parent\";\n    import {DemoUseStyleChild} from \"./demo-use-style/demo-use-style-child\";\n\n    export default {\n        name: \"demo-use-style\",\n        components: {\n            DemoUseStyleParent,\n            DemoUseStyleChild,\n        },\n    };\n</script>\n\n<style lang=\"scss\">\n    @include themes {\n        .ti-use-style-parent {\n            padding: 20px;\n            margin: 10px 0;\n            @include types(use-style-parent) using($color) {\n                background-color: mix($color, white, 20%);\n            }\n        }\n\n        .ti-use-style-child {\n            padding: 8px;\n            margin: 8px 0;\n            @include types(use-style-child) using($color) {\n                background-color: $color;\n                color: white;\n            }\n        }\n    }\n</style>\n","import { render } from \"./demo-use-style.vue?vue&type=template&id=778204c3\"\nimport script from \"./demo-use-style.vue?vue&type=script&lang=js\"\nexport * from \"./demo-use-style.vue?vue&type=script&lang=js\"\n\nimport \"./demo-use-style.vue?vue&type=style&index=0&id=778204c3&lang=scss\"\nscript.render = render\n\nexport default script","import {designComponent} from \"../../../../src/use/designComponent\";\nimport {StyleProps, StyleType, useStyle} from \"../../../../src/use/useStyle\";\nimport {computed} from 'vue';\nimport {useSlots} from \"../../../../src/use/useSlots\";\n\nexport const DemoUseStyleParent = designComponent({\n    props: {\n        ...StyleProps,\n    },\n    setup() {\n\n        const slots = useSlots();\n        const styleComputed = useStyle({type: StyleType.primary});\n        const classes = computed(() => [\n            'ti-use-style-parent',\n            `ti-use-style-parent-status-${styleComputed.value.type}`\n        ]);\n\n        return {\n            render: () => (\n                <div class={classes.value}>\n                    <div>PARENT</div>\n                    <div>\n                        {slots.default()}\n                    </div>\n                </div>\n            )\n        };\n    },\n});\n","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./demo-use-style.vue?vue&type=style&index=0&id=778204c3&lang=scss\"","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { VNodeChild } from \"@/shims\";\nimport { getCurrentInstance } from \"vue\";\n\ntype SlotFunction = ((vnode?: VNodeChild) => VNodeChild) & { isExist: () => boolean }\ntype SlotsData<T extends string> = { [k in T]: SlotFunction}\n\nexport function useSlots<T extends string>(slotList: T[] = []): SlotsData<T|'default'> {\n    const ctx = getCurrentInstance()!;\n    const slotNames = [...slotList, 'default'] as T[];\n    const slots = slotNames.reduce((slots, slot) => {\n        const isExist = () => {\n            return !!ctx.slots[slot];\n        };\n        const slotFn = (defaultVnode: VNodeChild) => {\n            return ctx.slots[slot]?.() || defaultVnode;\n        };\n        slotFn.isExist = isExist;\n        slots[slot] = slotFn;\n        return slots;\n    }, {} as SlotsData<string>);\n\n    return slots;\n}","import {designComponent} from \"../../../../src/use/designComponent\";\nimport {StyleProps, StyleType, useStyle} from \"../../../../src/use/useStyle\";\nimport {computed} from 'vue';\n\nexport const DemoUseStyleChild = designComponent({\n    props: {\n        ...StyleProps,\n    },\n    setup() {\n\n        const styleComputed = useStyle({type: StyleType.primary});\n        const classes = computed(() => [\n            'ti-use-style-child',\n            `ti-use-style-child-status-${styleComputed.value.type}`\n        ]);\n\n        return {\n            render: () => (\n                <div class={classes.value}>\n                    CHILD\n                </div>\n            )\n        };\n    },\n});\n"],"sourceRoot":""}