!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TitansUI={},e.Vue)}(this,(function(e,t){"use strict";function o(e,t){return Object.assign(Object.assign({},e),{install(o){o.component(e.name,e),null==t||t.forEach(o.use)}})}var n=t.defineComponent({name:"TiIcon",props:{icon:{type:String,required:!0}}});const l=["xlink:href"];n.render=function(e,o,n,i,a,r){return t.openBlock(),t.createElementBlock("svg",{class:t.normalizeClass(["ti-icon",`ti-icon-${e.icon}`]),"aria-hidden":"true"},[t.createElementVNode("use",{"xlink:href":`#icon-${e.icon}`},null,8,l)],2)};var i,a,r,s=o(n);!function(e){e.fillet="fillet",e.round="round",e.square="square"}(i||(i={})),function(e){e.large="large",e.normal="normal",e.small="small",e.mini="mini"}(a||(a={})),function(e){e.default="default",e.primary="primary",e.success="success",e.warning="warning",e.danger="danger",e.info="info"}(r||(r={}));var c=t.defineComponent({name:"TiButton",components:{TiIcon:s},props:{label:{type:String},type:{type:String,default:""},mode:{type:String,default:""},shape:{type:String,default:""},size:{type:String,default:""},icon:{type:String},iconPosition:{type:String,default:"prefix"},disabled:{type:Boolean},loading:{type:Boolean}},emits:{click:e=>!0},setup:e=>({classes:["ti-button",{[`ti-button-type-${e.type}`]:e.type,[`ti-button-mode-${e.mode}`]:e.mode,[`ti-button-shape-${e.shape}`]:e.shape,[`ti-button-size-${e.size}`]:e.size,"ti-button-disabled":e.disabled,"ti-button-loading":e.loading}]})});const u=["disabled"];c.render=function(e,o,n,l,i,a){const r=t.resolveComponent("TiIcon");return t.openBlock(),t.createElementBlock("button",{disabled:e.disabled||e.loading,class:t.normalizeClass(e.classes),onClick:o[0]||(o[0]=t=>e.$emit("click",t))},[e.loading?(t.openBlock(),t.createBlock(r,{key:0,icon:"loading"})):t.createCommentVNode("",!0),e.icon&&"suffix"!==e.iconPosition?(t.openBlock(),t.createBlock(r,{key:1,icon:e.icon},null,8,["icon"])):t.createCommentVNode("",!0),t.createElementVNode("span",null,[t.renderSlot(e.$slots,"default",{},(()=>[t.createTextVNode(t.toDisplayString(e.label),1)]))]),!e.loading&&e.icon&&"suffix"===e.iconPosition?(t.openBlock(),t.createBlock(r,{key:2,icon:e.icon},null,8,["icon"])):t.createCommentVNode("",!0)],10,u)};var d=o(c),p={name:"TiButtonGroup"};const f={class:"ti-button-group"};p.render=function(e,o,n,l,i,a){return t.openBlock(),t.createElementBlock("div",f,[t.renderSlot(e.$slots,"default")])};var v=o(p),h=t.defineComponent({name:"TiSwitch",props:{modelValue:{type:[Boolean,String,Number],required:!0},type:{type:String,default:"primary"},width:{type:Number},height:{type:Number},onValue:{type:[Boolean,String,Number],default:!0},offValue:{type:[Boolean,String,Number],default:!1},onColor:{type:String},offColor:{type:String},handleOnColor:{type:String},handleOffColor:{type:String},disabled:{type:Boolean,default:!1},onText:{type:String},offText:{type:String}},emits:["update:modelValue","change"],setup(e,{emit:o}){t.computed((()=>void 0===e.width)),t.computed((()=>void 0===e.height));const n=t.computed((()=>e.modelValue===e.onValue)),l=t.computed((()=>["ti-switch",{"is-on":n.value,[`ti-switch-type-${e.type}`]:e.type,"ti-switch-disabled":e.disabled}])),i=t.computed((()=>{var t;return(null!==(t=e.height)&&void 0!==t?t:16)-4})),a=t.computed((()=>{var t,o,l,i;return{width:e.width+"px",height:e.height+"px",backgroundColor:n.value?e.onColor:e.offColor,borderColor:n.value?e.onColor:e.offColor,paddingRight:n.value?(null!==(t=e.height)&&void 0!==t?t:20)+"px":(null!==(o=e.height)&&void 0!==o?o:20)/2+"px",paddingLeft:n.value?(null!==(l=e.height)&&void 0!==l?l:20)/2+"px":(null!==(i=e.height)&&void 0!==i?i:20)+"px"}})),r=t.computed((()=>({width:i.value+"px",height:i.value+"px",left:n.value?"100%":"1px",marginLeft:n.value?-(i.value+1)+"px":0,backgroundColor:n.value?e.handleOnColor:e.handleOffColor}))),s=t=>{if(e.disabled)return;const l=n.value?e.offValue:e.onValue;o("update:modelValue",l)},c=t.ref(null);return t.watch((()=>e.modelValue),(e=>{o("change",e)})),{isOn:n,switchClasses:l,handleSize:i,switchStyles:a,handleStyles:r,handleChange:s,handleKeydown:t=>{"Enter"===t.key||"Space"===t.key?s():"ArrowLeft"===t.key?o("update:modelValue",e.offValue):"ArrowRight"===t.key&&o("update:modelValue",e.onValue)},switchRef:c,focus:()=>{c.value&&c.value.focus()},blur:()=>{c.value&&c.value.blur()}}}});const g={class:"ti-switch-text"};h.render=function(e,o,n,l,i,a){return t.openBlock(),t.createElementBlock("button",{role:"switch",ref:"switchRef",class:t.normalizeClass(e.switchClasses),style:t.normalizeStyle(e.switchStyles),onKeydown:o[0]||(o[0]=t.withModifiers(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["prevent","self"])),onClick:o[1]||(o[1]=(...t)=>e.handleChange&&e.handleChange(...t))},[t.createElementVNode("span",g,t.toDisplayString(e.isOn?e.onText:e.offText),1),t.createElementVNode("span",{class:"ti-switch-handle",style:t.normalizeStyle(e.handleStyles)},null,4)],38)};var y=o(h),m={name:"TiDialog",components:{TiIcon:n,TiButton:c},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},top:{type:[Number,String],default:"15vh"},width:{type:[Number,String],default:520},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},ok:{type:Function},cancel:{type:Function},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},customClass:{type:String},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},afterClose:{type:Function},destroyOnClose:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:o,slots:n}){const l=()=>{const t=()=>{o("update:visible",!1)};e.beforeClose?e.beforeClose(t):t()},i=["ti-dialog",e.customClass],a={marginTop:"string"==typeof e.top?e.top:`${e.top}px`,width:"string"==typeof e.width?e.width:`${e.width}px`};let r=!!e.visible;const s=t.ref(r),c=t.ref(!0);t.watch((()=>e.visible),(()=>{r?e.destroyOnClose?(s.value=e.visible,c.value=!0):(s.value=!0,c.value=e.visible):(s.value=e.visible,r=!0)}));return{close:l,clickOnOverlay:()=>{e.closeOnClickOverlay&&l()},onOk:()=>{!1!==e.ok?.()&&l()},onCancel:()=>{l()},TiDialogClasses:i,TiDialogStyles:a,vIf:s,vShow:c,afterLeave:()=>{e.afterClose?.()}}}};const b={key:0,class:"ti-dialog-container"},w=t.createElementVNode("div",{class:"ti-dialog-overlay"},null,-1),k=["aria-label"],C={class:"ti-dialog-header"},S={class:"ti-dialog-title"},N={class:"ti-dialog-content"},V={class:"ti-dialog-footer"};m.render=function(e,o,n,l,i,a){const r=t.resolveComponent("TiIcon"),s=t.resolveComponent("TiButton");return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"dialog",duration:{enter:400,leave:250},onAfterLeave:l.afterLeave},{default:t.withCtx((()=>[l.vIf?t.withDirectives((t.openBlock(),t.createElementBlock("div",b,[w,t.createElementVNode("div",{class:"ti-dialog-wrapper",style:t.normalizeStyle({pointerEvents:l.vShow?void 0:"none"}),onClick:o[0]||(o[0]=t.withModifiers(((...e)=>l.clickOnOverlay&&l.clickOnOverlay(...e)),["self"]))},[t.createElementVNode("div",{class:t.normalizeClass(l.TiDialogClasses),style:t.normalizeStyle(l.TiDialogStyles),role:"dialog","aria-modal":"true","aria-label":n.title||"dialog"},[t.createElementVNode("div",C,[t.renderSlot(e.$slots,"title",{},(()=>[t.createElementVNode("span",S,t.toDisplayString(n.title),1)])),n.showClose?(t.openBlock(),t.createBlock(r,{key:0,class:"ti-dialog-close",icon:"close",onClick:l.close},null,8,["onClick"])):t.createCommentVNode("",!0)]),t.createElementVNode("div",N,[t.renderSlot(e.$slots,"default")]),t.createElementVNode("div",V,[t.renderSlot(e.$slots,"footer",{},(()=>[t.createVNode(s,{class:"ti-dialog-footer-default-slot-button",onClick:l.onCancel},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(n.cancelText),1)])),_:1},8,["onClick"]),t.createVNode(s,{class:"ti-dialog-footer-default-slot-button",onClick:l.onOk},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(n.okText),1)])),_:1},8,["onClick"])]))])],14,k)],4)],512)),[[t.vShow,l.vShow]]):t.createCommentVNode("",!0)])),_:3},8,["onAfterLeave"])])};var E=o(m);"production"===process.env.NODE_ENV||Object.freeze({}),"production"===process.env.NODE_ENV||Object.freeze([]);const x=()=>{},T=Object.assign,O=Array.isArray,B=e=>"function"==typeof e;const _=e=>(e.w&I)>0,$=e=>(e.n&I)>0;let D=0,I=1;const R=[];let z;Symbol("production"!==process.env.NODE_ENV?"iterate":""),Symbol("production"!==process.env.NODE_ENV?"Map key iterate":"");class j{constructor(e,t=null,o){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],function(e,t){(t=t||void 0)&&t.active&&t.effects.push(e)}(this,o)}run(){if(!this.active)return this.fn();if(!R.includes(this))try{return R.push(z=this),L.push(A),A=!0,I=1<<++D,D<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=I})(this):M(this),this.fn()}finally{D<=30&&(e=>{const{deps:t}=e;if(t.length){let o=0;for(let n=0;n<t.length;n++){const l=t[n];_(l)&&!$(l)?l.delete(e):t[o++]=l,l.w&=~I,l.n&=~I}t.length=o}})(this),I=1<<--D,function(){const e=L.pop();A=void 0===e||e}(),R.pop();const e=R.length;z=e>0?R[e-1]:void 0}}stop(){this.active&&(M(this),this.onStop&&this.onStop(),this.active=!1)}}function M(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let A=!0;const L=[];function P(e,t){let o=!1;D<=30?$(e)||(e.n|=I,o=!_(e)):o=!e.has(z),o&&(e.add(z),z.deps.push(e),"production"!==process.env.NODE_ENV&&z.onTrack&&z.onTrack(Object.assign({effect:z},t)))}function q(e,t){for(const o of O(e)?e:[...e])(o!==z||o.allowRecurse)&&("production"!==process.env.NODE_ENV&&o.onTrigger&&o.onTrigger(T({effect:o},t)),o.scheduler?o.scheduler():o.run())}function F(e){const t=e&&e.__v_raw;return t?F(t):e}function K(e){A&&void 0!==z&&((e=F(e)).dep||(e.dep=(e=>{const t=new Set(e);return t.w=0,t.n=0,t})()),"production"!==process.env.NODE_ENV?P(e.dep,{target:e,type:"get",key:"value"}):P(e.dep))}new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter((e=>"symbol"==typeof e)));class G{constructor(e,t,o){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new j(e,(()=>{var e,t;this._dirty||(this._dirty=!0,(e=F(e=this)).dep&&("production"!==process.env.NODE_ENV?q(e.dep,{target:e,type:"set",key:"value",newValue:t}):q(e.dep)))})),this.__v_isReadonly=o}get value(){const e=F(this);return K(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function U(e,t){let o,n;B(e)?(o=e,n="production"!==process.env.NODE_ENV?()=>{console.warn("Write operation failed: computed value is readonly")}:x):(o=e.get,n=e.set);const l=new G(o,n,B(e)||!e.set);return"production"!==process.env.NODE_ENV&&t&&(l.effect.onTrack=t.onTrack,l.effect.onTrigger=t.onTrigger),l}function W(e,t){if(void 0===t&&(t=this),!t&&0!==t)return"";if(!/^(-|\+)?\d+(?:\.\d+)?$/.test(t))return"";let o=t+"";if(e||0===e||(e=2),e=parseInt(e),-1===o.indexOf(".")&&(o+="."),o+=new Array(e+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(e+1)+"})?)\\d*$").test(o)){o="0"+RegExp.$2;const t=RegExp.$1;let n=RegExp.$3.length,l=!0;if(n===e+2){if(n=o.match(/\d/g),"-"!==t&&parseInt(n[n.length-1])>4||"-"===t&&parseInt(n[n.length-1])>5)for(let e=n.length-2;e>=0&&(n[e]=parseInt(n[e])+1,10===n[e]);e--)n[e]=0,l=1!==e;o=n.join("").replace(new RegExp("(\\d+)(\\d{"+e+"})\\d$"),"$1.$2")}return l&&(o=o.substr(1)),(t+o).replace(/\.$/,"")}return this+""}Promise.resolve();var H=t.defineComponent({name:"TiDigitalTransition",props:{start:{type:Number,default:0},end:{type:Number},step:{type:Number,default:1},interval:{type:Number,default:16},duration:{type:Number,default:3e3},accuracy:{type:Number,default:0}},emit:["ended","updated"],setup(e,{slots:o,emit:n}){const{start:l,step:i,interval:a}=t.toRefs(e),r=t.toRef(e,"end"),s=t.toRef(e,"duration"),c=U((()=>{var e,t,n;return+(r.value||(null===(n=null===(t=null===(e=o.default)||void 0===e?void 0:e.call(o))||void 0===t?void 0:t[0])||void 0===n?void 0:n.children)||0)}));let u=t.ref(l.value),d=U((()=>+W(e.accuracy,u.value)));const p=(()=>{let e;return(t,o,l)=>{const r=t.value,c=o.value;e&&clearInterval(e);const u=U((()=>s.value?function(e,t){if(!e)return Math.ceil(t);const o=`${t+1/Math.pow(10,15)}`,n=new RegExp(`(^(-|\\\\+)?\\d+\\.\\d{${e}})\\d*`),l=o.match(n);return l&&W(e,+l[1]+1/Math.pow(10,e)*(+l[1]>0?1:-1))}(6,(c-r)/Math.floor(s.value/a.value)):i.value));e=setInterval((()=>{t.value=u.value>0?Math.min(t.value+ +u.value,o.value):Math.max(t.value+ +u.value,o.value),(u.value>0&&t.value>=o.value||u.value<0&&t.value<=o.value)&&(n(l,o.value),clearInterval(e))}),a.value)}})();return t.onMounted((()=>{p(u,c,"ended")})),t.watch((()=>c.value),(e=>{p(u,t.ref(e),"updated")})),{digital:d}}});const J={class:"ti-tickValue-transition"};H.render=function(e,o,n,l,i,a){return t.openBlock(),t.createElementBlock("span",J,t.toDisplayString(e.digital),1)};var Q=o(H);const X=[d,v,s,y,E,Q];function Y(e){X.forEach(e.use)}var Z={install:Y};e.Button=d,e.ButtonGroup=v,e.Dialog=E,e.DigitalTransition=Q,e.Icon=s,e.Switch=y,e.default=Z,e.install=Y,Object.defineProperty(e,"__esModule",{value:!0})}));
