!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TitansUI={},e.Vue)}(this,(function(e,t){"use strict";function o(e,t){return Object.assign(Object.assign({},e),{install(o){o.component(e.name,e),null==t||t.forEach(o.use)}})}var n=t.defineComponent({name:"TiIcon",props:{icon:{type:String,required:!0}}});const l=["xlink:href"];n.render=function(e,o,n,i,a,r){return t.openBlock(),t.createElementBlock("svg",{class:t.normalizeClass(["ti-icon",`ti-icon-${e.icon}`]),"aria-hidden":"true"},[t.createElementVNode("use",{"xlink:href":`#icon-${e.icon}`},null,8,l)],2)};var i,a,r,s=o(n);!function(e){e.fillet="fillet",e.round="round",e.square="square"}(i||(i={})),function(e){e.large="large",e.normal="normal",e.small="small",e.mini="mini"}(a||(a={})),function(e){e.default="default",e.primary="primary",e.success="success",e.warning="warning",e.danger="danger",e.info="info"}(r||(r={}));var c=t.defineComponent({name:"TiButton",components:{TiIcon:s},props:{label:{type:String},type:{type:String,default:""},mode:{type:String,default:""},shape:{type:String,default:""},size:{type:String,default:""},icon:{type:String},iconPosition:{type:String,default:"prefix"},disabled:{type:Boolean},loading:{type:Boolean}},emits:{click:e=>!0},setup:e=>({classes:["ti-button",{[`ti-button-type-${e.type}`]:e.type,[`ti-button-mode-${e.mode}`]:e.mode,[`ti-button-shape-${e.shape}`]:e.shape,[`ti-button-size-${e.size}`]:e.size,"ti-button-disabled":e.disabled,"ti-button-loading":e.loading}]})});const d=["disabled"];c.render=function(e,o,n,l,i,a){const r=t.resolveComponent("TiIcon");return t.openBlock(),t.createElementBlock("button",{disabled:e.disabled||e.loading,class:t.normalizeClass(e.classes),onClick:o[0]||(o[0]=t=>e.$emit("click",t))},[e.loading?(t.openBlock(),t.createBlock(r,{key:0,icon:"loading"})):t.createCommentVNode("",!0),e.icon&&"suffix"!==e.iconPosition?(t.openBlock(),t.createBlock(r,{key:1,icon:e.icon},null,8,["icon"])):t.createCommentVNode("",!0),t.createElementVNode("span",null,[t.renderSlot(e.$slots,"default",{},(()=>[t.createTextVNode(t.toDisplayString(e.label),1)]))]),!e.loading&&e.icon&&"suffix"===e.iconPosition?(t.openBlock(),t.createBlock(r,{key:2,icon:e.icon},null,8,["icon"])):t.createCommentVNode("",!0)],10,d)};var u=o(c),p={name:"TiButtonGroup"};const f={class:"ti-button-group"};p.render=function(e,o,n,l,i,a){return t.openBlock(),t.createElementBlock("div",f,[t.renderSlot(e.$slots,"default")])};var h=o(p),v=t.defineComponent({name:"TiSwitch",props:{modelValue:{type:[Boolean,String,Number],required:!0},type:{type:String,default:"primary"},width:{type:Number},height:{type:Number},onValue:{type:[Boolean,String,Number],default:!0},offValue:{type:[Boolean,String,Number],default:!1},onColor:{type:String},offColor:{type:String},handleOnColor:{type:String},handleOffColor:{type:String},disabled:{type:Boolean,default:!1},onText:{type:String},offText:{type:String}},emits:["update:modelValue","change"],setup(e,{emit:o}){t.computed((()=>void 0===e.width)),t.computed((()=>void 0===e.height));const n=t.computed((()=>e.modelValue===e.onValue)),l=t.computed((()=>["ti-switch",{"is-on":n.value,[`ti-switch-type-${e.type}`]:e.type,"ti-switch-disabled":e.disabled}])),i=t.computed((()=>{var t;return(null!==(t=e.height)&&void 0!==t?t:16)-4})),a=t.computed((()=>{var t,o,l,i;return{width:e.width+"px",height:e.height+"px",backgroundColor:n.value?e.onColor:e.offColor,borderColor:n.value?e.onColor:e.offColor,paddingRight:n.value?(null!==(t=e.height)&&void 0!==t?t:20)+"px":(null!==(o=e.height)&&void 0!==o?o:20)/2+"px",paddingLeft:n.value?(null!==(l=e.height)&&void 0!==l?l:20)/2+"px":(null!==(i=e.height)&&void 0!==i?i:20)+"px"}})),r=t.computed((()=>({width:i.value+"px",height:i.value+"px",left:n.value?"100%":"1px",marginLeft:n.value?-(i.value+1)+"px":0,backgroundColor:n.value?e.handleOnColor:e.handleOffColor}))),s=t=>{if(e.disabled)return;const l=n.value?e.offValue:e.onValue;o("update:modelValue",l)},c=t.ref(null);return t.watch((()=>e.modelValue),(e=>{o("change",e)})),{isOn:n,switchClasses:l,handleSize:i,switchStyles:a,handleStyles:r,handleChange:s,handleKeydown:t=>{"Enter"===t.key||"Space"===t.key?s():"ArrowLeft"===t.key?o("update:modelValue",e.offValue):"ArrowRight"===t.key&&o("update:modelValue",e.onValue)},switchRef:c,focus:()=>{c.value&&c.value.focus()},blur:()=>{c.value&&c.value.blur()}}}});const y={class:"ti-switch-text"};v.render=function(e,o,n,l,i,a){return t.openBlock(),t.createElementBlock("button",{role:"switch",ref:"switchRef",class:t.normalizeClass(e.switchClasses),style:t.normalizeStyle(e.switchStyles),onKeydown:o[0]||(o[0]=t.withModifiers(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["prevent","self"])),onClick:o[1]||(o[1]=(...t)=>e.handleChange&&e.handleChange(...t))},[t.createElementVNode("span",y,t.toDisplayString(e.isOn?e.onText:e.offText),1),t.createElementVNode("span",{class:"ti-switch-handle",style:t.normalizeStyle(e.handleStyles)},null,4)],38)};var g=o(v);"production"===process.env.NODE_ENV||Object.freeze({}),"production"===process.env.NODE_ENV||Object.freeze([]);const m=()=>{},k=Object.assign,b=Array.isArray;const w=e=>(e.w&N)>0,C=e=>(e.n&N)>0;let S=0,N=1;const V=[];let B;Symbol("production"!==process.env.NODE_ENV?"iterate":""),Symbol("production"!==process.env.NODE_ENV?"Map key iterate":"");class E{constructor(e,t=null,o){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],function(e,t){(t=t||void 0)&&t.active&&t.effects.push(e)}(this,o)}run(){if(!this.active)return this.fn();if(!V.includes(this))try{return V.push(B=this),O.push(T),T=!0,N=1<<++S,S<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=N})(this):x(this),this.fn()}finally{S<=30&&(e=>{const{deps:t}=e;if(t.length){let o=0;for(let n=0;n<t.length;n++){const l=t[n];w(l)&&!C(l)?l.delete(e):t[o++]=l,l.w&=~N,l.n&=~N}t.length=o}})(this),N=1<<--S,function(){const e=O.pop();T=void 0===e||e}(),V.pop();const e=V.length;B=e>0?V[e-1]:void 0}}stop(){this.active&&(x(this),this.onStop&&this.onStop(),this.active=!1)}}function x(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let T=!0;const O=[];function _(e,t){let o=!1;S<=30?C(e)||(e.n|=N,o=!w(e)):o=!e.has(B),o&&(e.add(B),B.deps.push(e),"production"!==process.env.NODE_ENV&&B.onTrack&&B.onTrack(Object.assign({effect:B},t)))}function $(e,t){for(const o of b(e)?e:[...e])(o!==B||o.allowRecurse)&&("production"!==process.env.NODE_ENV&&o.onTrigger&&o.onTrigger(k({effect:o},t)),o.scheduler?o.scheduler():o.run())}function D(e){const t=e&&e.__v_raw;return t?D(t):e}function I(e){T&&void 0!==B&&((e=D(e)).dep||(e.dep=(e=>{const t=new Set(e);return t.w=0,t.n=0,t})()),"production"!==process.env.NODE_ENV?_(e.dep,{target:e,type:"get",key:"value"}):_(e.dep))}new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter((e=>"symbol"==typeof e)));class R{constructor(e,t,o){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new E(e,(()=>{var e,t;this._dirty||(this._dirty=!0,(e=D(e=this)).dep&&("production"!==process.env.NODE_ENV?$(e.dep,{target:e,type:"set",key:"value",newValue:t}):$(e.dep)))})),this.__v_isReadonly=o}get value(){const e=D(this);return I(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Promise.resolve();var z={name:"TiDialog",components:{TiIcon:n,TiButton:c},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},top:{type:[Number,String],default:"15vh"},width:{type:[Number,String],default:520},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},ok:{type:Function},cancel:{type:Function},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},customClass:{type:String},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},afterClose:{type:Function},destroyOnClose:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:o,slots:n}){const l=()=>{const t=()=>{o("update:visible",!1)};e.beforeClose?e.beforeClose(t):t()},i=[e.customClass],a=/^\d+$/,r=function(e,t){let o,n;const l="function"==typeof e;l?(o=e,n="production"!==process.env.NODE_ENV?()=>{console.warn("Write operation failed: computed value is readonly")}:m):(o=e.get,n=e.set);const i=new R(o,n,l||!n);return"production"!==process.env.NODE_ENV&&t&&(i.effect.onTrack=t.onTrack,i.effect.onTrigger=t.onTrigger),i}((()=>({marginTop:"string"!=typeof e.top||a.test(e.top)?`${e.top}px`:e.top,width:"string"!=typeof e.width||a.test(e.width)?`${e.width}px`:e.width})));let s=!!e.visible;const c=t.ref(s),d=t.ref(!0);t.watch((()=>e.visible),(()=>{s?e.destroyOnClose?(c.value=e.visible,d.value=!0):(c.value=!0,d.value=e.visible):(c.value=e.visible,s=!0)}));return{close:l,clickOnOverlay:()=>{e.closeOnClickOverlay&&l()},onOk:()=>{!1!==e.ok?.()&&l()},onCancel:()=>{l()},TiDialogClasses:i,TiDialogStyles:r,vIf:c,vShow:d,afterLeave:()=>{e.afterClose?.()}}}};const j={key:0,class:"ti-dialog-container"},M={key:0,class:"ti-dialog-overlay"},A=["aria-label"],L={key:0,class:"ti-dialog-header"},F={class:"ti-dialog-title"},P={class:"ti-dialog-content"},q={key:1,class:"ti-dialog-footer"};z.render=function(e,o,n,l,i,a){const r=t.resolveComponent("TiIcon"),s=t.resolveComponent("TiButton");return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"dialog",duration:{enter:400,leave:250},onAfterLeave:l.afterLeave},{default:t.withCtx((()=>[l.vIf?t.withDirectives((t.openBlock(),t.createElementBlock("div",j,[n.overlay?(t.openBlock(),t.createElementBlock("div",M)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"ti-dialog-wrapper",style:t.normalizeStyle({pointerEvents:l.vShow?void 0:"none"}),onClick:o[0]||(o[0]=t.withModifiers(((...e)=>l.clickOnOverlay&&l.clickOnOverlay(...e)),["self"]))},[t.createElementVNode("div",{class:t.normalizeClass(["ti-dialog",l.TiDialogClasses]),style:t.normalizeStyle(l.TiDialogStyles),role:"dialog","aria-modal":"true","aria-label":n.title||"dialog"},[n.showHeader?(t.openBlock(),t.createElementBlock("div",L,[t.renderSlot(e.$slots,"title",{},(()=>[t.createElementVNode("span",F,t.toDisplayString(n.title),1)])),n.showClose?(t.openBlock(),t.createBlock(r,{key:0,class:"ti-dialog-close",icon:"close",onClick:l.close},null,8,["onClick"])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),t.createElementVNode("div",P,[t.renderSlot(e.$slots,"default")]),n.showFooter?(t.openBlock(),t.createElementBlock("div",q,[t.renderSlot(e.$slots,"footer",{},(()=>[t.createVNode(s,{class:"ti-dialog-footer-default-slot-button",onClick:l.onCancel},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(n.cancelText),1)])),_:1},8,["onClick"]),t.createVNode(s,{class:"ti-dialog-footer-default-slot-button",onClick:l.onOk},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(n.okText),1)])),_:1},8,["onClick"])]))])):t.createCommentVNode("",!0)],14,A)],4)],512)),[[t.vShow,l.vShow]]):t.createCommentVNode("",!0)])),_:3},8,["onAfterLeave"])])};var K=o(z);function G(e,t){if(void 0===t&&(t=this),!t&&0!==t)return"";if(!/^(-|\+)?\d+(?:\.\d+)?$/.test(t))return"";let o=t+"";if(e||0===e||(e=2),e=parseInt(e),-1===o.indexOf(".")&&(o+="."),o+=new Array(e+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(e+1)+"})?)\\d*$").test(o)){o="0"+RegExp.$2;const t=RegExp.$1;let n=RegExp.$3.length,l=!0;if(n===e+2){if(n=o.match(/\d/g),"-"!==t&&parseInt(n[n.length-1])>4||"-"===t&&parseInt(n[n.length-1])>5)for(let e=n.length-2;e>=0&&(n[e]=parseInt(n[e])+1,10===n[e]);e--)n[e]=0,l=1!==e;o=n.join("").replace(new RegExp("(\\d+)(\\d{"+e+"})\\d$"),"$1.$2")}return l&&(o=o.substr(1)),(t+o).replace(/\.$/,"")}return this+""}var H=t.defineComponent({name:"TiDigitalTransition",props:{start:{type:Number,default:0},end:{type:Number},step:{type:Number,default:1},interval:{type:Number,default:16},duration:{type:Number,default:3e3},accuracy:{type:Number,default:0}},emit:["ended","updated"],setup(e,{slots:o,emit:n}){const{start:l,step:i,interval:a}=t.toRefs(e),r=t.toRef(e,"end"),s=t.toRef(e,"duration"),c=t.computed((()=>{var e,t,n;return+(r.value||(null===(n=null===(t=null===(e=o.default)||void 0===e?void 0:e.call(o))||void 0===t?void 0:t[0])||void 0===n?void 0:n.children)||0)}));let d=t.ref(l.value),u=t.computed((()=>+G(e.accuracy,d.value)));const p=(()=>{let e;return(o,l,r)=>{const c=o.value,d=l.value;e&&clearInterval(e);const u=t.computed((()=>s.value?function(e,t){if(!e)return Math.ceil(t);const o=`${t}`.length,n=`${t+Math.pow(10,-(16-o))}`,l=new RegExp(`(^(-|\\\\+)?\\d+\\.\\d{${e}})\\d*`),i=n.match(l);return i&&G(e,+i[1]+1/Math.pow(10,e)*(+i[1]>0?1:-1))}(6,(d-c)/Math.floor(s.value/a.value)):i.value));e=setInterval((()=>{o.value=u.value>0?Math.min(o.value+ +u.value,l.value):Math.max(o.value+ +u.value,l.value),(u.value>0&&o.value>=l.value||u.value<0&&o.value<=l.value)&&(n(r,l.value),clearInterval(e))}),a.value)}})();return t.onMounted((()=>{p(d,c,"ended")})),t.watch((()=>c.value),(e=>{p(d,t.ref(e),"updated")})),{digital:u}}});const U={class:"ti-tickValue-transition"};H.render=function(e,o,n,l,i,a){return t.openBlock(),t.createElementBlock("span",U,t.toDisplayString(e.digital),1)};var W=o(H);const J=[u,h,s,g,K,W];function Q(e){J.forEach(e.use)}var X={install:Q};e.Button=u,e.ButtonGroup=h,e.Dialog=K,e.DigitalTransition=W,e.Icon=s,e.Switch=g,e.default=X,e.install=Q,Object.defineProperty(e,"__esModule",{value:!0})}));
