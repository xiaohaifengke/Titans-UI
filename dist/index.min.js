!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TitansUI={},e.Vue)}(this,(function(e,t){"use strict";function o(e,t){return Object.assign(Object.assign({},e),{install(o){o.component(e.name,e),null==t||t.forEach(o.use)}})}var l=t.defineComponent({name:"TiIcon",props:{icon:{type:String,required:!0}}});const n=["xlink:href"];l.render=function(e,o,l,a,i,r){return t.openBlock(),t.createElementBlock("svg",{class:t.normalizeClass(["ti-icon",`ti-icon-${e.icon}`]),"aria-hidden":"true"},[t.createElementVNode("use",{"xlink:href":`#icon-${e.icon}`},null,8,n)],2)};var a,i,r,s=o(l);!function(e){e.fillet="fillet",e.round="round",e.square="square"}(a||(a={})),function(e){e.large="large",e.normal="normal",e.small="small",e.mini="mini"}(i||(i={})),function(e){e.default="default",e.primary="primary",e.success="success",e.warning="warning",e.danger="danger",e.info="info"}(r||(r={}));var d=t.defineComponent({name:"TiButton",components:{TiIcon:s},props:{label:{type:String},type:{type:String,default:""},mode:{type:String,default:""},shape:{type:String,default:""},size:{type:String,default:""},icon:{type:String},iconPosition:{type:String,default:"prefix"},disabled:{type:Boolean},loading:{type:Boolean}},emits:{click:e=>!0},setup:e=>({classes:["ti-button",{[`ti-button-type-${e.type}`]:e.type,[`ti-button-mode-${e.mode}`]:e.mode,[`ti-button-shape-${e.shape}`]:e.shape,[`ti-button-size-${e.size}`]:e.size,"ti-button-disabled":e.disabled,"ti-button-loading":e.loading}]})});const u=["disabled"];d.render=function(e,o,l,n,a,i){const r=t.resolveComponent("TiIcon");return t.openBlock(),t.createElementBlock("button",{disabled:e.disabled||e.loading,class:t.normalizeClass(e.classes),onClick:o[0]||(o[0]=t=>e.$emit("click",t))},[e.loading?(t.openBlock(),t.createBlock(r,{key:0,icon:"loading"})):t.createCommentVNode("",!0),e.icon&&"suffix"!==e.iconPosition?(t.openBlock(),t.createBlock(r,{key:1,icon:e.icon},null,8,["icon"])):t.createCommentVNode("",!0),t.createElementVNode("span",null,[t.renderSlot(e.$slots,"default",{},(()=>[t.createTextVNode(t.toDisplayString(e.label),1)]))]),!e.loading&&e.icon&&"suffix"===e.iconPosition?(t.openBlock(),t.createBlock(r,{key:2,icon:e.icon},null,8,["icon"])):t.createCommentVNode("",!0)],10,u)};var c=o(d),p={name:"TiButtonGroup"};const f={class:"ti-button-group"};p.render=function(e,o,l,n,a,i){return t.openBlock(),t.createElementBlock("div",f,[t.renderSlot(e.$slots,"default")])};var v=o(p),m=t.defineComponent({name:"TiSwitch",props:{modelValue:{type:[Boolean,String,Number],required:!0},type:{type:String,default:"primary"},width:{type:Number},height:{type:Number},onValue:{type:[Boolean,String,Number],default:!0},offValue:{type:[Boolean,String,Number],default:!1},onColor:{type:String},offColor:{type:String},handleOnColor:{type:String},handleOffColor:{type:String},disabled:{type:Boolean,default:!1},onText:{type:String},offText:{type:String}},emits:["update:modelValue","change"],setup(e,{emit:o}){t.computed((()=>void 0===e.width)),t.computed((()=>void 0===e.height));const l=t.computed((()=>e.modelValue===e.onValue)),n=t.computed((()=>["ti-switch",{"is-on":l.value,[`ti-switch-type-${e.type}`]:e.type,"ti-switch-disabled":e.disabled}])),a=t.computed((()=>{var t;return(null!==(t=e.height)&&void 0!==t?t:16)-4})),i=t.computed((()=>{var t,o,n,a;return{width:e.width+"px",height:e.height+"px",backgroundColor:l.value?e.onColor:e.offColor,borderColor:l.value?e.onColor:e.offColor,paddingRight:l.value?(null!==(t=e.height)&&void 0!==t?t:20)+"px":(null!==(o=e.height)&&void 0!==o?o:20)/2+"px",paddingLeft:l.value?(null!==(n=e.height)&&void 0!==n?n:20)/2+"px":(null!==(a=e.height)&&void 0!==a?a:20)+"px"}})),r=t.computed((()=>({width:a.value+"px",height:a.value+"px",left:l.value?"100%":"1px",marginLeft:l.value?-(a.value+1)+"px":0,backgroundColor:l.value?e.handleOnColor:e.handleOffColor}))),s=t=>{if(e.disabled)return;const n=l.value?e.offValue:e.onValue;o("update:modelValue",n)},d=t.ref(null);return t.watch((()=>e.modelValue),(e=>{o("change",e)})),{isOn:l,switchClasses:n,handleSize:a,switchStyles:i,handleStyles:r,handleChange:s,handleKeydown:t=>{"Enter"===t.key||"Space"===t.key?s():"ArrowLeft"===t.key?o("update:modelValue",e.offValue):"ArrowRight"===t.key&&o("update:modelValue",e.onValue)},switchRef:d,focus:()=>{d.value&&d.value.focus()},blur:()=>{d.value&&d.value.blur()}}}});const g={class:"ti-switch-text"};m.render=function(e,o,l,n,a,i){return t.openBlock(),t.createElementBlock("button",{role:"switch",ref:"switchRef",class:t.normalizeClass(e.switchClasses),style:t.normalizeStyle(e.switchStyles),onKeydown:o[0]||(o[0]=t.withModifiers(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["prevent","self"])),onClick:o[1]||(o[1]=(...t)=>e.handleChange&&e.handleChange(...t))},[t.createElementVNode("span",g,t.toDisplayString(e.isOn?e.onText:e.offText),1),t.createElementVNode("span",{class:"ti-switch-handle",style:t.normalizeStyle(e.handleStyles)},null,4)],38)};var h=o(m),y={name:"TiDialog",components:{TiIcon:l,TiButton:d},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},top:{type:[Number,String],default:"15vh"},width:{type:[Number,String],default:520},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},ok:{type:Function},cancel:{type:Function},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},customClass:{type:String},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},afterClose:{type:Function},destroyOnClose:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:o,slots:l}){const n=()=>{const t=()=>{o("update:visible",!1)};e.beforeClose?e.beforeClose(t):t()},a=["ti-dialog",e.customClass],i={marginTop:"string"==typeof e.top?e.top:`${e.top}px`,width:"string"==typeof e.width?e.width:`${e.width}px`};let r=!!e.visible;const s=t.ref(r),d=t.ref(!0);t.watch((()=>e.visible),(()=>{r?e.destroyOnClose?(s.value=e.visible,d.value=!0):(s.value=!0,d.value=e.visible):(s.value=e.visible,r=!0)}));return{close:n,clickOnOverlay:()=>{e.closeOnClickOverlay&&n()},onOk:()=>{!1!==e.ok?.()&&n()},onCancel:()=>{n()},TiDialogClasses:a,TiDialogStyles:i,vIf:s,vShow:d,afterLeave:()=>{e.afterClose?.()}}}};const b={key:0,class:"ti-dialog-container"},C=t.createElementVNode("div",{class:"ti-dialog-overlay"},null,-1),k=["aria-label"],w={class:"ti-dialog-header"},S={class:"ti-dialog-title"},x={class:"ti-dialog-content"},B={class:"ti-dialog-footer"};y.render=function(e,o,l,n,a,i){const r=t.resolveComponent("TiIcon"),s=t.resolveComponent("TiButton");return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"dialog",duration:{enter:400,leave:250},onAfterLeave:n.afterLeave},{default:t.withCtx((()=>[n.vIf?t.withDirectives((t.openBlock(),t.createElementBlock("div",b,[C,t.createElementVNode("div",{class:"ti-dialog-wrapper",style:t.normalizeStyle({pointerEvents:n.vShow?void 0:"none"}),onClick:o[0]||(o[0]=t.withModifiers(((...e)=>n.clickOnOverlay&&n.clickOnOverlay(...e)),["self"]))},[t.createElementVNode("div",{class:t.normalizeClass(n.TiDialogClasses),style:t.normalizeStyle(n.TiDialogStyles),role:"dialog","aria-modal":"true","aria-label":l.title||"dialog"},[t.createElementVNode("div",w,[t.renderSlot(e.$slots,"title",{},(()=>[t.createElementVNode("span",S,t.toDisplayString(l.title),1)])),l.showClose?(t.openBlock(),t.createBlock(r,{key:0,class:"ti-dialog-close",icon:"close",onClick:n.close},null,8,["onClick"])):t.createCommentVNode("",!0)]),t.createElementVNode("div",x,[t.renderSlot(e.$slots,"default")]),t.createElementVNode("div",B,[t.renderSlot(e.$slots,"footer",{},(()=>[t.createVNode(s,{class:"ti-dialog-footer-default-slot-button",onClick:n.onCancel},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(l.cancelText),1)])),_:1},8,["onClick"]),t.createVNode(s,{class:"ti-dialog-footer-default-slot-button",onClick:n.onOk},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(l.okText),1)])),_:1},8,["onClick"])]))])],14,k)],4)],512)),[[t.vShow,n.vShow]]):t.createCommentVNode("",!0)])),_:3},8,["onAfterLeave"])])};var V=o(y);function N(e,t){if(void 0===t&&(t=this),!t&&0!==t)return"";if(!/^(-|\+)?\d+(?:\.\d+)?$/.test(t))return"";let o=t+"";if(e||0===e||(e=2),e=parseInt(e),-1===o.indexOf(".")&&(o+="."),o+=new Array(e+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(e+1)+"})?)\\d*$").test(o)){o="0"+RegExp.$2;const t=RegExp.$1;let l=RegExp.$3.length,n=!0;if(l===e+2){if(l=o.match(/\d/g),"-"!==t&&parseInt(l[l.length-1])>4||"-"===t&&parseInt(l[l.length-1])>5)for(let e=l.length-2;e>=0&&(l[e]=parseInt(l[e])+1,10===l[e]);e--)l[e]=0,n=1!==e;o=l.join("").replace(new RegExp("(\\d+)(\\d{"+e+"})\\d$"),"$1.$2")}return n&&(o=o.substr(1)),(t+o).replace(/\.$/,"")}return this+""}var T=t.defineComponent({name:"TiDigitalTransition",props:{start:{type:Number,default:0},end:{type:Number},step:{type:Number,default:1},interval:{type:Number,default:16},duration:{type:Number,default:3e3},accuracy:{type:Number,default:0}},emit:["ended","updated"],setup(e,{slots:o,emit:l}){const{start:n,step:a,interval:i}=t.toRefs(e),r=t.toRef(e,"end"),s=t.toRef(e,"duration"),d=t.computed((()=>{var e,t,l;return+(r.value||(null===(l=null===(t=null===(e=o.default)||void 0===e?void 0:e.call(o))||void 0===t?void 0:t[0])||void 0===l?void 0:l.children)||0)}));let u=t.ref(n.value),c=t.computed((()=>+N(e.accuracy,u.value)));const p=(()=>{let e;return(o,n,r)=>{const d=o.value,u=n.value;e&&clearInterval(e);const c=t.computed((()=>s.value?function(e,t){if(!e)return Math.ceil(t);const o=`${t+1/Math.pow(10,15)}`,l=new RegExp(`(^(-|\\\\+)?\\d+\\.\\d{${e}})\\d*`),n=o.match(l);return n&&N(e,+n[1]+1/Math.pow(10,e)*(+n[1]>0?1:-1))}(6,(u-d)/Math.floor(s.value/i.value)):a.value));e=setInterval((()=>{o.value=c.value>0?Math.min(o.value+ +c.value,n.value):Math.max(o.value+ +c.value,n.value),(c.value>0&&o.value>=n.value||c.value<0&&o.value<=n.value)&&(l(r,n.value),clearInterval(e))}),i.value)}})();return t.onMounted((()=>{p(u,d,"ended")})),t.watch((()=>d.value),(e=>{p(u,t.ref(e),"updated")})),{digital:c}}});const E={class:"ti-tickValue-transition"};T.render=function(e,o,l,n,a,i){return t.openBlock(),t.createElementBlock("span",E,t.toDisplayString(e.digital),1)};var $=o(T);const O=[c,v,s,h,V,$];function I(e){O.forEach(e.use)}var D={install:I};e.Button=c,e.ButtonGroup=v,e.Dialog=V,e.DigitalTransition=$,e.Icon=s,e.Switch=h,e.default=D,e.install=I,Object.defineProperty(e,"__esModule",{value:!0})}));
